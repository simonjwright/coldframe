<!-- $Id: bugs.html,v 11fd79eb119c 2003/09/03 20:20:48 simon $ -->
<html>
<head>
<title>ColdFrame: Bugs</title>
</head>
<body bgcolor="white">
<h1>ColdFrame: Bugs</h1>

<ul>

<li><a href="#outstanding">Outstanding</a>

<li><a href="#fixed">Fixed</a>

<li><a href="#rejected">Rejected</a>

</ul>

<h2><a name="outstanding">Outstanding</a></h2>

<dl>

<dt>0016 (raised 6.viii.01)

<dd>It would be helpful if an association class could be automatically
generated for many-to-many associations where the analyst hasn't
provided one already.

<dt>0019 (raised 4.ix.01)

<dd>It would be good to support private operations.

<dt>0031 (raised 13.x.01)

<dd>&#171;finalize&#187; operations which are functions or have
parameters (or are &#171;class&#187; operations) are silently
<em>not</em> called at finalization. There are other instances of bad
usage which need reporting (perhaps in a separate pass?)

<dt>0035 (raised 1.xi.01)

<dd>The association support packages generated when one of the parties
in a 1:1 association is a &#171;singleton&#187; won't work if the
non-singleton party is marked <tt>[[source]]</tt>.

<dt>0047 (raised 6.xii.01)

<dd>It might be useful to be able to describe <i>array</i>
&#171;type&#187;s.

<dt>0049 (raised 27.xii.01)

<dd>It would be a good thing if project-specific configuration
information (such as multiplicities) could be supplied in a separate
document from the domain model.

<dt>0056 (raised 8.i.02)

<dd>The generated HTML doesn't report default parameter values.

<dt>0059 (raised 16.i.02)

<dd>It would be proper to use UML tagged values instead of
<tt>[[&nbsp;]]</tt> annotations.

<dt>0062 (raised 23.i.02)

<dd>It would be useful to be able to specify constants.
<br><i>Pi is specially handled, in "expression" contexts
(initial values, <tt>[[real]]</tt> ranges).</i>

<dt>0067 (raised 5.iii.02)

<dd>If the action associated with a timed event sets the just-fired
timer again, there's a race condition which can result in a Use_Error
exception.

<dt>0068 (raised 6.iii.02)

<dd>It would be useful to be able to specify subtypes (eg, of
enumerations).

<dt>0078 (raised 18.iv.02)

<dd>ColdFrame doesn't detect the error of having non-unique
abbreviations.

<dt>0088 (raised 7.vi.02)

<dd>Extraction hangs if the output directory (the environment variable
<tt>COLDFRAMEOUT</tt>) doesn't exist.

<dt>0090 (raised 7.vi.02)

<dd>It should be possible to declare &#171;type&#187;s "private" (this
would only make sense if they have operations, I suppose).

<dt>0105 (raised 23.vii.02)

<dd>If an enumeration type is imported or renamed, the enumeration
literals aren't.

<dt>0109 (raised 19.viii.02)

<dd>The error where a state has more than one exiting transition
triggered by the same event (or drop-through) isn't detected.

<dt>0136 (raised 26.xi.02)

<dd>The documentation gives an example of a
&#171;class&nbsp;event&#187; without a payload, which can't actually
be specified in a model.

<dt>0141 (raised 13.xii.02)

<dd>Ada doesn't allow functions to have <tt>in out</tt> or
<tt>out</tt> parameters; ColdFrame should check.

<dt>0167 (raised 25.iv.03)

<dd>It is easy to forget to initialize a domain. Could something be
included to give early and specific warning that this has occurred?

<dt>0172 (raised 6.vi.03)

<dd>Would it be possible to specify the need for accessor operations
by marking the attribute concerned? (perhaps by a stereotype).

<dt>0174 (raised 17.vi.03)

<dd>The error of making an Association with a &#171;type&#187; should
be detected (instead of generating bad code).

<dt>0177 (raised 26.vi.03)

<dd>It would be helpful for ColdFrame to recognize "class utilities"
(classes which have no instances).

<dt>0178 (raised 1.vii.03)

<dd>There's no way for ColdFrame to inform the application that an
unhandled exception has been caught in the event dispatcher.

<dt>0182 (raised 9.vii.03)

<dd>Using the <tt><i>[[formalizes]]</i></tt> annotation on a non-class
attribute gives an unhelpful error message.

<dt>0183 (raised 9.vii.03)

<dd>Using the <tt><i>[[imported]]</i></tt> annotation (and possibly
others) on a &#171;type&#187; with attributes gives an unhelpful error
message.

<dt>0184 (raised 9.vii.03)

<dd>&#171;public&#187; and &#171;singleton&#187; classes have a
<tt>Create</tt> operation which is not meant to be called by
handwritten code. Perhaps it should be renamed.

<dt>0185 (raised 11.viii.03)

<dd>It can be very confusing to detect the error where an event is
(mistakenly) <tt>Set</tt> on a <tt>Timer</tt> to fire <i>after</i> a
zero delay. Perhaps a type <tt><i>Positive</i>_Duration</tt> could be
used instead of <tt>Natural_Duration</tt>?

<!-- next: 0194 -->

</dl>

<h2><a name="fixed">Fixed</a></h2>

<h3>3.ix.03</h3>

<dl>

<dt>0193 (raised 3.ix.03)

<dd>With the new container implementation, calling <tt>Find</tt> for
an &#171;active&#187; class hangs.

</dl>

<h3>2.ix.03</h3>

<dl>

<dt>0192 (raised 2.ix.03)

<dd>During a cascade teardown, it is possible for an event dispatcher
to be torn-down twice (resulting in a constraint error when updating
the access count).

</dl>

<h3>31.viii.03</h3>

<dl>

<dt>0190 (raised 22.viii.03)

<dd>It could be useful to allow actions on event transitions.
<br><i>You could try colouring the states which have the actions that
you'd have preferred to put on transitions in a pale colour
(white?)</i>
</dl>

<h3>28.viii.03</h3>

<dl>

<dt>0191 (raised 27.viii.03)

<dd>In &#171;callback&#187; handling, if a registered callback
operation raises an exception during <tt>Call_Callbacks</tt>
processing will stop (so that some registered callback operations
don't get called).

</dl>

<h3>24.vii.03</h3>

<dl>

<dt>0189 (raised 22.viii.03)

<dd>The order in which the State Event matrix is presented in
generated HTML is confusing (the entry actions should come first).

</dl>

<h3>15.viii.03</h3>

<dl>

<dt>0187 (raised 13.viii.03)

<dd>If a class with an <i>Autonumber</i> identifier has a maximum
number of instances of 1, an unused procedure <tt>Set_Identifier</tt>
is generated.

<dt>0188 (raised 15.viii.03)

<dd>Doesn't know how to hash Positive (or Natural?).

</dl>

<h3>12.viii.03</h3>

<dl>

<dt>0186 (raised 12.viii.03)

<dd>Normalization doesn't correctly handle substring exceptions (eg,
<i>*IO</i> doesn't make <tt>text&nbsp;io</tt> appear as
<tt>Text_IO</tt> but as <tt>Text_Io</tt>).

</dl>

<h3>30.vii.03</h3>

<dl>

<dt>0170 (raised 29.iv.03)

<dd>If an operation of a &#171;type&#187; is a function returning a
composite value, the generated code won't compile.

</dl>

<h3>4.vii.03</h3>

<dl>

<dt>180 (raised 4.vii.03)

<dd>Class events without &#171;handler&#187;s aren't detected.

<dt>181 (raised 4.vii.03)

<dd>A &#171;handler&#187; with the wrong profile isn't detected.

</dl>

<h3>3.vii.03</h3>

<dl>

<dt>0154 (raised 21.ii.03)

<dd>Operations marked <i>abstract</i> in the class specification
dialog aren't seen as such.

</dl>

<h3>26.vi.03</h3>

<dl>

<dt>0175 (raised 25.vi.03)

<dd>It would be helpful if there was some way of providing overloaded
operations (at present, operations are implemented in "separates",
which prevents overloading, <a
href="http://www.adaic.com/standards/95lrm/html/RM-10-1-3.html">RM10.1.3</a>(14)).

<dt>0176 (raised 25.vi.03)

<dd>It would be helpful to be able to rename exceptions.

</dl>

<h3>14.vi.03</h3>

<dl>

<dt>0156 (raised 21.ii.03)

<dd>Attributes marked <i>class</i> in the class specification dialog
aren't seen as such.

<dt>0173 (raised 12.vi.03)

<dd>If all the attributes of a &#171;singleton&#187; (or
&#171;public&#187;) class are &#171;class&#187; attributes, the
generated code won't compile.

</dl>

<h3>25.v.03</h3>

<dl>

<dt>0171 (raised 15.v.03)

<dd>Exceptions in domain <tt>Initialize</tt> procedures aren't reported
(unless there's a default "unhandled exception" handler).

</dl>

<h3>18.v.03</h3>

<dl>

<dt>0163 (raised 1.iv.03)

<dd>If an operation is made &#171;abstract&#187;, its previously
implemented body will override the generated dispatching body.

</dl>


<h3>17.v.03</h3>

<dl>

<dt>0071 (raised 19.iii.02)

<dd>It would be useful to be able to use Pi (<tt>Ada.Numerics.Pi</tt>)
in type range specifications.

</dl>

<h3>10.v.03</h3>

<dl>

<dt>0143 (raised 9.i.03)

<dd>The Create operation could usefully check that referential
parameters (which are of type <tt>ColdFrame.Instances.Handle</tt>) are
of the correct actual type.

</dl>

<h3>2.v.03</h3>

<dl>

<dt>171 (raised 1.v.03)

<dd>If you tear down an event queue that hasn't been started, the
program hangs.

</dl>

<h3>1.v.03</h3>

<dl>

<dt>0129 (raised 8.x.02)

<dd><tt>[[callback]]</tt> types tend to be unnoticeable; could a
&#171;callback&#187; stereotype be used instead?

</dl>

<h3>29.iv.03</h3>

<dl>

<dt>0169 (raised 29.iv.03)

<dd>The generated code for functions returning &#171;counterpart&#187;
types won't compile.

</dl>

<h3>25.iv.03</h3>

<dl>

<dt>0168 (raised 25.iv.03)

<dd>The script to split serialized XML files into CSV format isn't
included in the distribution.

</dl>

<h3>8.iv.03</h3>

<dl>

<dt>0166 (raised 8.iv.03)

<dd>A class with a Timer but no state machine generates code that
won't compile.

</dl>

<h3>7.iv.03</h3>

<dl>

<dt>0164 (raised 7.iv.03)

<dd>Deleting an instance with held events pending for it raises an
exception.

<dt>0165 (raised 7.iv.03)

<dd>The special-case state entry action <tt>Delete</tt> isn't
completely handled (the event isn't marked as "instance deleted").

</dl>

<h3>30.iii.03</h3>

<dl>

<dt>0157 (raised 9.iii.03)

<dd>In the UML, the syntax of <i>parameter</i> is
<br>kind name : type-expression = default-value
<br>where kind is <i>in</i>, <i>out</i>, or <i>inout</i>, with the
default <i>in</i> if absent.

<dt>0162 (raised 25.iii.03)

<dd>The documentation on associations needs to discuss usage for
linking and unlinking operations.

</dl>

<h3>16.iii.03</h3>

<dl>

<dt>0161 (raised 15.iii.03)

<dd>The new <i>Held Events</i> facility isn't general enough; dealing
with additional kinds of Time will require a lot of recoding.
<br><i>Added a <tt>Time_Kind</tt> enumeration and discriminant in
<tt>Time_Signature</tt>.</i>

</dl>

<h3>13.iii.03</h3>

<dl>

<dt>0159 (raised 13.iii.03)

<dd>When normalizing names, trailing dots aren't noticed, resulting in
obscure <i>gnatchop</i> errors.

<dt>0160 (raised 13.iii.03)

<dd>If you specify a class to have a multiplicity of <i>0..(n &gt;
1)</i>, and the class has an identifying attribute whose type has only
one value (eg an enumeration with only one literal), the generated
code won't compile.

</dl>

<h3>10.iii.03</h3>

<dl>

<dt>0158 (raised 10.iii.03)

<dd>If you use <tt>[[hash:<i>style</i>]]</tt> (<tt>discrete</tt> only
at the moment), the <tt><i>style</i></tt> needs to be in lower case.

</dl>

<h3>9.iii.03</h3>

<dl>

<dt>0150 (raised 6.ii.03)

<dd>There needs to be a way to have the "held" Event Queue's entries
be re-sorted when the basis of ordering changes (eg, between a local
and a standard time frame).
<br><i>This is done the next time an event fires or is posted.</i>

<dt>0151 (raised 11.ii.03)

<dd>If events to run "after an interval" are posted to an event queue
which hasn't yet started, the interval should refer to the time when
the queue is eventually started.

</dl>

<h3>16.ii.03</h3>

<dl>

<dt>0018 (raised 4.ix.01)

<dd>For efficiency, classes whose identifier has a limited range (eg,
Forward/Aft or 1..10) should be implemented with array-like behaviour.

<dt>0050 (raised 27.xii.01)

<dd>It would be a good thing if the multiplicity of an association
class was calculated automatically (where the multiplicity of each
associated class is specified).

</dl>

<h3>Valentine's Day 2003</h3>

<dl>

<dt>0152 (raised Valentine's Day 2003)

<dd>The comments in the body of a function that returns a composite
type are not generated properly.

</dl>

<h3>6.ii.03</h3>

<dl>

<dt>0149 (raised 6.ii.03)

<dd>There should be an option for an individual domain's
<tt>Events.Initialize</tt> to be overridden when constructing a whole
system.
<br><tt><i>Domain</i>.Initialize</tt> now takes a <tt>Dispatcher</tt>
parameter, defaulted to <tt>null</tt>. If not <tt>null</tt>, it is
used as the domain's dispatcher, and <tt>Events.Initialize</tt> isn't
called.

</dl>

<h3>2.ii.03</h3>

<dl>

<dt>0072 (raised 19.iii.02)

<dd>It seems unnecessary that the <tt>[[callback]]</tt> facility
requires you to specify the maximum number of instances.


</dl>

<h3>19.i.03</h3>

<dl>

<dt>0139 (raised 2.xii.02)

<dd>If an event queue is designated by more than one domain, the
tear-down unit test support won't work properly.
<br><i>Use <tt>ColdFrame.Events.Copy</tt> to copy
<tt><i>Domain</i>.Events.Dispatcher</tt>.</i>

<dt>0142 (raised 9.i.03)

<dd>The navigation package for an association could usefully have a
Find operation to locate the association class instance given the
associated instances' handles.

<dt>0148 (raised 16.i.03)

<dd>It would be helpful to be able to specify an operation's language
calling convention.

</dl>

<h3>11.i.03</h3>

<dl>

<dt>0147 (raised 10.i.03)

<dd>It would be useful to be able to specify type extension.
<br><i>You can extend external types, not ones internal to the domain;
ColdFrame isn't in the business of supporting every possible language
feature!</i>

</dl>

<h3>10.i.03</h3>

<dl>

<dt>0145 (raised 10.i.03)

<dd>Normalization crashes (<i>can't read "rel": no such variable</i>)
if you have an association with no multiplicities.

<dt>0146 (raised 10.i.03)

<dd>The <i>make</i> process doesn't halt if normalization crashes.

</dl>

<h3>9.i.03</h3>

<dl>

<dt>0144 (raised 9.i.03)

<dd>The distribution should contain the HTML documentation.

</dl>

<h3>24.xii.02</h3>

<dl>

<dt>0128 (raised 8.x.02)

<dd>It would be helpful to be able to specify how to hash
imported/renamed types.
<br><i>Supports <tt>[[ hash : discrete ]]</tt>.</i>
</dl>

<h3>10.xii.02</h3>

<dl>

<dt>0135 (raised 26.xi.02)

<dd>The documentation refers to transitions from a state which need no
event to trigger them as "unguarded". In fact they are "completion
transitions" (UML 1.3, section 2.12).

<dt>0140 (raised 3.xii.02)

<dd>If a &#171;type&#187; has an attribute of type
<tt>Counterpart</tt>, the necessary
<tt>with&nbsp;Coldframe.Instances;</tt> isn't generated.

</dl>

<h3>3.xii.02</h3>

<dl>

<dt>0094 (raised 24.vi.02)

<dd>It's not possible to have automatically-generated accessors for
class variables.
<br>Bodies of &#171;class&#187; operations which match an accessor
profile will be automatically generated for a &#171;class&#187;
variable.

<dt>0137 (raised 26.xi.02)

<dd>Timed events can cause exceptions in the Event Queue.

<dt>0138 (raised 28.xi.02)

<dd>Callback packages aren't marked "do not edit".

</dl>

<h3>20.xi.02</h3>

<dl>

<dt>0086 (raised 14.v.02)

<dd>It would be helpful if the build process could report
unimplemented bodies.

<dt>0131 (raised 25.x.02)

<dd>&#171;finalize&#187; operations don't get called during teardown.

<br><i>This is deliberate; finalization is about keeping the model
consistent, while teardown is much more brutal. However, the case in
point involved closing a socket, which <em>does</em> need to happen at
teardown.
<br>An additional stereotype &#171;teardown&#187; is provided.</i>

</dl>

<h3>13.xi.02</h3>

<dl>

<dt>0098 (raised 25.vi.02)

<dd>Multiple delayed events which are required to fire at the same
time will result in a <tt>delay&nbsp;0.0</tt> between each.

<dt>0134 (raised 13.xi.02)

<dd>It might be useful to add the annotation <tt>[[counterpart]]</tt>;
the translation would be a renaming (subtyping) of
<tt>ColdFrame.Instances.Handle</tt>.

</dl>

<h3>11.xi.02</h3>

<dl>

<dt>0133 (raised 7.xi.02)

<dd><tt>[[formalizes]]</tt> should suppress creating additional
referential attributes and matching operations.

</dl>

<h3>6.xi.02</h3>

<dl>

<dt>0132 (raised Guy Fawkes' Day 02)

<dd>Domain initialization calls
<tt><i>Domain</i>.Events.Initialize</tt>, could be just
<tt>Events.Initialize</tt>.

</dl>

<h3>22.x.02</h3>

<dl>

<dt>0065 (raised 28.ii.02)

<dd>The mechanism for handling multiple case exception files isn't
easy to reconcile with use in Makefiles. Probably needs to use an
environment variable.

<br><i>The environment variable <tt>CASE_EXCEPTIONS</tt> specifies one
or more case exception files. If there's more than one, the separator
is ; on Windows, : on Unix.</i>

<dt>0130 (raised 22.x.02)

<dd>Active classes tend to be unnoticeable; could an
&#171;active&#187; stereotype be used instead? as well?

</dl>

<h3>13.x.02</h3>

<dl>

<dt>0037 (raised 16.xi.01)

<dd>Would it be better only to generate task entries when there's an
&#171;entry&#187; stereotype?

<dt>0111 (raised 2.ix.02)

<dd>It would make testing easier if non-&#171;public&#187; classes
could be generated as non-<tt>private</tt> Ada packages.

<br><i>Use the stereotype &#171;visible-for-test&#187;. You shouldn't
do this sort of thing except for unit test, hence the
explicitness.</i>

</dl>

<h3>9.x.02</h3>

<dl>

<dt>0125 (raised 7.x.02)

<dd>Layout of generated exception declarations is incorrect.

<dt>0126 (raised 8.x.02)

<dd>It's difficult to delete a child instance <em>and its parent</em> in
a state machine.

<dt>0127 (raised 8.x.02)

<dd>Incorrectly reusing an inheritance relationship name isn't detected.

</dl>

<h3>1.x.02</h3>

<dl>

<dt>0124 (raised 30.ix.02)

<dd>Extraction from Rose doesn't notice if sub-units of a Domain
aren't loaded.

</dl>

<h3>20.ix.02</h3>
<dl>

<dt>0120 (raised 19.ix.02)

<dd>Extraction from Rose doesn't notice if a Domain package isn't
actually loaded. The result is a very sparsely-populated domain.

<br><i>Extraction now loads packages that aren't already loaded.</i>

<dt>0121 (raised 19.ix.02)

<dd>Using the Windows environment variable <tt>ColdFrameOut</tt>
causes trouble under Cygwin; it comes out as <tt>COLDFRAMEOUT</tt>.

<br><i>Rolled over; now in upper case.</i>

<dt>0122 (raised 19.ix.02)

<dd>Tear-down of Event Queues results in strange
<tt>Storage_Error</tt> or <tt>Program_Error</tt> exceptions.

<dt>0123 (raised 19.ix.02)

<dd>Navigation from a 0..1 instance results in <tt>Constraint_Error</tt>.

</dl>

<h3>17.ix.02</h3>
<dl>

<dt>0119 (raised 16.ix.02)

<dd>Entry actions would be simpler to write, in some cases, if the
state variable contained the new state rather than the old one.

<br><i>There are two instance variables: <tt>State_Machine_State</tt>
and <tt>Old_State_Machine_State</tt>. Inside an action,
<tt>State_Machine_State</tt> holds the new state; outside an action,
both have the same value.</i>

</dl>

<h3>15.ix.02</h3>
<dl>

<dt>0117 (raised 12.ix.02)

<dd>There's no support for deleting instances in <i>final</i> states.

<dt>0018 (raised 13.ix.02)

<dd>The <i>Lock</i> facility of Event Queues ought to allow "events to
self" a higher priority than external locks.

</dl>

<h3>12.ix.02</h3>
<dl>

<dt>0113 (raised 9.ix.02)

<dd>The <tt>Wait_Until_Idle</tt> operation isn't as useful as it could
be if you have timeouts (because there's almost always something held
on the event queue).

<br><i><tt>Wait_Until_Idle</tt> now has an optional
parameter<tt>Ignoring_Timers</tt> (defaulted to <tt>False</tt>) which
controls whether <i>Timer</i>s are included in the count.</i>

<dt>0116 (raised 12.ix.02)

<dd>The generated code for an operation returning a value of type Time
doesn't compile.

</dl>

<h3>10.ix.02</h3>
<dl>

<dt>0114 (raised 10.ix.02)

<dd>The warning given when a role's multiplicity has a specific upper
bound greater than one (ie, not 1 or *) isn't very helpful.

<dt>0115 (raised 10.ix.02)

<dd>Creation events for singletons aren't coded properly.

</dl>


<h3>8.ix.02</h3>
<dl>

<dt>0110 (raised 2.ix.02)

<dd>The <tt>Lock</tt> features of the standard Event Queue will result
in a deadly embrace if used by two domains sharing the same event
queue.

<dt>0112 (raised 5.ix.02)

<dd>There'll be a memory leak if a domain is <tt>Initialize</tt>d more
than once.

<br><i><tt>Tear_Down</tt> allows (requires!) the domain to be
re-<tt>Initialize</tt>d.</i>

</dl>

<h3>19.viii.02</h3>
<dl>

<dt>0097 (raised 25.vi.02)

<dd>All the Events that transition to a State with an Action with a
parameter must be the same. It would be helpful if this could be
changed to "must carry the same payload".

</dl>

<h3>17.viii.02</h3>
<dl>

<dt>0073 (raised 11.iv.02)

<dd>If a class has a multiplicity of 0..1, it should be possible to
<tt>Find</tt> the only instance (or of course <tt>null</tt>) without
supplying an Identifier.

<br><i>Both <tt>Find</tt>s are generated; the one which requires an
Identifier is "deprecated".</i>

<dt>0081 (raised 9.v.02)

<dd>Tear_Down doesn't clean up singletons (especially active ones).

<dt>0087 (raised 21.v.02)

<dd><tt>Tear_Down</tt> doesn't reset &#171;class&#187; variables.

<br><i>It's actually the <tt>Class_Initialize</tt> operation that does
this.</i>

<dt>0103 (raised 16.vii.02)

<dd>Automatic formation of abbreviations can result in generating
reserved words.

<br><i>If this condition occurs, an error is reported.</i>

<br><i>Other uses of reserved words are also reported as errors.</i>

<dt>0106 (raised 25.vii.02)

<dd>The generated lines-of-code count is wrong, and less useful than
it could be.

<br><i>It's now correct (though still not so useful).</i>

<dt>0107 (raised 25.vii.02)

<dd>It would be a good thing if documentation in the model could be
carried through into the generated code.

<dt>0108 (raised 16.viii.02)

<dd>The style of programming implied by the present version of
<tt>ColdFrame.Project.Calendar</tt> (a renaming of
<tt>Ada.Calendar</tt>) falls foul of a GNAT feature which fails when
you <tt>with</tt> two renamings of the same package.

</dl>

<h3>16.vii.02</h3>
<dl>

<dt>0102 (raised 15.vii.02)

<dd>Date, Time should be translated to
<tt>Coldframe.Projects.Calendar.Time</tt>, with a provided default
renaming of <tt>Ada.Calendar</tt>.

<dt>0104 (raised 16.vii.02)

<dd>&#171;Singleton&#187;s with state machines don't <i>with</i>
<tt>ColdFrame.Exceptions</tt>.

</dl>

<h3>12.vii.02</h3>
<dl>

<dt>0101 (raised 5.vii.02)

<dd>Link operations should check that the instances aren't already
linked.

</dl>

<h3>10.vii.02</h3>
<dl>

<dt>0027 (raised 5.x.01)

<dd>For attributes and operation parameters, it would be good to
detect missing types (or names).

</dl>

<h3>7.vii.02</h3>
<dl>

<dt>0092 (raised 24.vi.02)

<dd>There's no <tt>Tear_Down</tt> for Event management.

</dl>

<h3>4.vii.02</h3>
<dl>

<dt>0095 (raised 25.vi.02)

<dd>Operations of &#171;type&#187;s are generated even if they're
marked &#171;generated&#187; (which means that they're operations that
ColdFrame generates automatically).

<dt>0100 (raised 4.vii.01)

<dd>Signed initializers aren't supported.

</dl>

<h3>27.vi.02</h3>
<dl>

<dt>0079 (raised 1.v.02)

<dd>It would be helpful if there was a means of declaring exceptions.

<dt>0099 (raised 27.vi.02)

<dd>Association across reflexive associations is incorrect.

<br><i>Actually, it's not; but there needs to be more documentation on
how to think about role names.</i>

</dl>

<h3>25.vi.02</h3>
<dl>

<dt>0093 (raised 24.vi.02)

<dd>Deleting an instance may hang if there are no timed events
outstanding.

<dt>0096 (raised 25.vi.02)

<dd>Operations of &#171;type&#187;s don't compile.

</dl>

<h3>8.vi.02</h3>
<dl>

<dt>0089 (raised 7.vi.02)

<dd>Reflexive associations (without an associative class) generate
code that doesn't compile (especially if the cardinality of the class
involved has been specified).

</dl>

<h3>29.v.02</h3>
<dl>

<dt>0009 (raised 27.vi.01)

<dd>It would be helpful if the <tt>Create</tt> and <tt>Find</tt>
operations of child classes checked that the given identifier (of the
parent class's instance) isn't <tt>null</tt>.

<br>Actually, this comes down to checking in <tt>Create</tt> that no
identifying referential attribute is <tt>null</tt>. As for
<tt>Find</tt>, there seems no particular reason to check.

</dl>

<h3>20.v.02</h3>
<dl>

<dt>0014 (raised 13.vii.01)

<dd>No code is generated for operations of &#171;type&#187;s.

</dl>

<h3>18.v.02</h3>

<dl>

<dt>0075 (raised 16.iv.02)

<dd>Some of the generated operations (eg, accessors for referential
attributes) are only intended to be called by generated code. It would
be good to indicate this somehow.

<dt>0083 (raised 14.v.02)

<dd>&#171;access&#187; functions are generated as though they were
procedures.

<dt>0084 (raised 14.v.02)

<dd>ColdFrame ought to respect the modeller's casing; if you say
<i>FOO</i> it should come out as <tt>FOO</tt>.

<i>
<br>This change has two consequences:

<ul>

<li>you need to be consistent about case; the code generator is
case-sensitive

<li>you need to use the case that ColdFrame expects (for example,
<tt>AutoNumber</tt> won't work)
</ul>
</i>

<dt>0085 (raised 14.v.02)

<dd>ColdFrame generates accessors for referential attributes, but they
aren't intended for general use. Can they be marked "private" in the
generated code?

<br><i>See also 0075.</i>

</dl>

<h3>9.v.02</h3>
<dt>0025 (raised 26.ix.01)

<dd>It would be a good thing if illegal characters in names were detected.

<dt>0082 (raised 9.v.02)

<dd>Tear_Down of an active non-singleton doesn't clean up the
associated task.

<dl>

</dl>

<h3>18.iv.02</h3>
<dl>

<dt>0077 (raised 18.iv.02)

<dd>If a class has a one-word name, the automatically-generated
abbreviation is a single letter. It's a nuisance to have to think of
an abbreviation for each such class.

<br><it>The default "abbreviation" for a single-word class is made by
prepending <tt>A</tt> or <tt>An</tt>.</it>

</dl>

<h3>17.iv.02</h3>
<dl>

<dt>0076 (raised 17.iv.02)

<dd>In inheritance hierarchies, bad code is generated for operation
parameters whose type is the class in which the operation is declared.

</dl>

<h3>12.iv.02</h3>
<dl>

<dt>0074 (raised 11.iv.02)

<dd>On Windows, an error in code generation doesn't cause the Make
process to quit (so you get a truncated Ada output file rather than
none).<br>

<i>Fix is to use <tt>instantsaxon</tt> version 6.5.1 or later.</i>

</dl>

<h3>18.iii.02</h3>
<dl>

<dt>0070 (raised 15.iii.02)

<dd>For large domains, the Makefile can generate command lines too
long for (the Cygwin) <tt>bash</tt>.

</dl>

<h3>9.iii.02</h3>
<dl>

<dt>0066 (raised 5.iii.02)

<dd>Making generated real types <tt>new</tt> will mean lots of
instantiations of
<tt>Ada.Numerics.Generic_Elementary_Functions</tt>. Perhaps subtypes
of <tt>Float</tt>, <tt>Long_Float</tt> would be better.

<dt>0069 (raised 8.iii.02)

<dd>If an association is formalized using <tt>[[formalizes]]</tt> the
association package doesn't <tt>with</tt> the necessary
<tt>Selection_Function</tt>.

</dl>

<h3>4.iii.02</h3>
<dl>

<dt>0054 (raised 8.i.02)

<dd>Attribute, parameter and result types in the generated HTML should
be hyperlinked to their definitions (unless they're standard).

<dt>0063 (raised 23.i.02)

<dd>It would be useful to be able to specify class variables.

<dt>0064 (raised 23.i.02)

<dd>There's no documentation on how to set up the Makefiles, how to
use on Linux vs Windows etc.

</dl>

<h3>24.i.02</h3>
<dl>

<dt>0026 (raised 4.x.01)

<dd>It should probably be possible for an operation to take or return
a collection of its own class. At present this gives rise to a cyclic
dependency.<br>

<i>"Fix" is to withdraw the <tt>[[set]]</tt> facility. The way to get
hold of collections of instances is to use the <tt>All_Instances</tt>,
<tt>Selection/Filter_Function</tt>, and association navigation
facilities.</i>

<dt>0033 (raised 30.x.01)

<dd>The generated HTML for <i>&#171;class&#187; op (this : Class)</i>
is <tt>ColdFrame.Instances.Handle</tt>; should be just
<tt>Handle</tt>.

</dl>

<h3>17.i.02</h3>
<dl>

<dt>0060 (raised 17.i.02)

<dd>Imported and renamed types can lead to excessively long source
lines.

</dl>

<h3>16.i.02</h3>
<dl>

<dt>0058 (raised 16.i.02)

<dd>The installable Makefiles (<tt>Makefile-winnt</tt>,
<tt>Makefile-unix</tt>) ought to make code generation depend on the
user <tt>Makefile</tt>; because she can change macro values in it.

</dl>

<h3>13.i.02</h3>
<dl>

<dt>0057 (raised 10.i.02)

<dd>Please can the number of lines of code generated be reported (for
example, in the header comments of the main domain package).

</dl>

<h3>3.i.02</h3>
<dl>

<dt>0051 (raised 2.i.02)

<dd>In inheritance trees, the parents may not have been processed when
the grandchildren are processed, resulting in failed normalization.

<dt>0052 (raised 2.i.02)

<dd>The Makefiles expect a Case Exception File, and normalization
fails if it's not present.

<dt>0053 (raised 2.i.02)

<dd>Model domains are extracted for all selected packages, not just
those in the current diagram.

<dt>0061 (raised 23.i.02)

<dd>The supplied Windows makefile (<tt>Makefile-winnt</tt>) assumes
software is installed on the <tt>D:</tt> drive; better if the default
was <tt>C:</tt>. <i>The customer bug report came after the problem was
fixed.</i>

</dl>

<h3>11.xii.01</h3>
<dl>

<dt>0046 (raised 28.xi.01)

<dd>The intended use of <tt><i>Association</i>.Unlink</tt> isn't
clear.

<dt>0048 (raised 11.xii.01)

<dd>Using escapable HTML entities (&amp;, &lt;, &gt;) in the
Documentation section prevents proper processing of annotations.

<br>
<i>Use a newer <a href="resources.html#xml">TclXML</a> release
(tclxml-2.1theta works fine).</i>

</dl>

<h3>3.xii.01</h3>
<dl>

<dt>0044 (raised 28.xi.01)

<dd>The <i>Autonumber</i> facility is implemented using plain
<tt>Integer</tt>s. This might cause integer overflow under heavy
long-term use.

</dl>

<h3>29.xi.01</h3>
<dl>

<dt>0020 (raised 4.ix.01)

<dd>Cardinalities and multiplicities of the form 1..42 should be
recognised (even if not implemented as specified: a warning would be
sensible in that case).

<dt>0038 (raised 16.xi.01)

<dd>&#171;abstract&#187; procedure operations of active classes
generate task entries. They probably shouldn't.

<dt>0042 (raised 28.xi.01)

<dd>Operations of <tt>[[imported]]</tt> types aren't visible.

<dt>0045 (raised 28.xi.01)

<dd>Multiplicity and cardinality processing in normalization only
recognizes the <i>n</i> forms; the official <i>*</i> forms should be
supported too.

</dl>

<h3>19.xi.01</h3>
<dl>

<dt>0041 (raised 19.xi.01)

<dd><tt>[[callback]]</tt> doesn't work on plain types, you need to use
a record.<br>
<i>An error is reported.</i>

</dl>

<h3>17.xi.01</h3>
<dl>

<dt>0036 (raised 16.xi.01)

<dd>The domain <tt>Initialize</tt> procedure should be a child
unit. As it is, a <tt>with</tt> of the domain package, probably for
its types, calls in all the class packages that have &#171;init&#187;
operations.

<dt>0040 (raised 17.xi.01)

<dd>&#171;generated&#187; and &#171;navigation&#187; procedure
operations of active classes generate task entries.

</dl>

<h3>16.xi.01</h3>
<dl>

<dt>0030 (raised 13.x.01)

<dd>&#171;finalize&#187; operations shouldn't be inherited.

<dt>0034 (raised 1.xi.01)

<dd>&#171;finalize&#187; operations of active classes shouldn't be
mapped to task entries.

<dt>0039 (raised 16.xi.01)

<dd><tt>Tear_Down</tt> should clear out any registered Callbacks.

</dl>

<h3>29.x.01</h3>
<dl>

<dt>0028 (raised 12.x.01)

<dd>The WITH TYPE extension seems to trigger a lot of instability in
GNAT. An alternative would be better.

<dt>0032 (raised 28.x.01)

<dd>With multiple inheritance, ColdFrame doesn't necessarily choose
the right parent class to call inherited operations.

</dl>

<h3>13.x.01</h3>
<dl>

<dt>0029 (raised 12.x.01)

<dd>The generated Tear_Down procedure bodies have unused WITH clauses.

</dl>

<h3>28.ix.01</h3>
<dl>

<dt>0017 (raised 4.ix.01)

<dd>It would be good if the generated hash functions made some attempt
to actually hash.

</dl>

<h3>26.ix.01</h3>
<dl>

<dt>0022 (raised 14.ix.01)

<dd>It should be easier to iterate over Collections.

<dt>0023 (raised 26.ix.01)

<dd>It would be helpful if discriminated record types could be
generated.

<dt>0024 (raised 26.ix.01)

<dd>The generated domain <tt>Tear_Down</tt> procedure has a bad body
if there are no Classes (just Types) in the domain.

</dl>

<h3>14.ix.01</h3>
<dl>

<dt>0021 (raised 4.ix.01)

<dd>Identifier normalization should match GLIDE's casing rules.

</dl>

<h3>6.viii.01</h3>
<dl>
<dt>0015 (raised 1.viii.01)

<dd>The generated code should include indications of the date of
extraction and the revisions of the tools concerned (or perhaps of
ColdFrame itself).

</dl>

<h3>13.vii.01</h3>
<dl>

<dt>0013 (raised 12.vii.01)

<dd><tt>Initialize</tt> procedures should only be generated (and
called by the Domain <tt>Initialize</tt>) where the Model specifies a
parameterless &#171;class&#187; procedure <tt>Initialize</tt>.

</dl>

<h3>7.vii.01</h3>
<dl>

<dt>0011 (raised 27.vi.01)

<dd><tt>Unlink</tt> operations on simple associations should null out
referential attributes.

</dl>

<h3>28.vi.01</h3>
<dl>

<dt>0008 (raised 26.vi.01)

<dd>Class operations of active classes generate an entry and a
matching (bad) body stub.

</dl>

<h3>26.vi.01</h3>
<dl>

<dt>0004 (raised 25.vi.01)

<dd>The <tt>Link</tt> function for a 1-(1:1) association is generated
wrongly (uses the wrong end of the association).

<dt>0007 (raised 26.vi.01)

<dd>The error message generated when there's no concrete
implementation of an abstract operation is garbled.

</dl>

<h3>21.vi.01</h3>
<dl>

<dt>0001 (raised 21.vi.01)

<dd>If an operation takes a parameter of the current class, or returns
a value of the current class, CF generates a "with" of the current
class (resulting in a circular dependency).

<dt>0002 (raised 21.vi.01)

<dd>Active Interfaces don't declare the type Instance before it's used.

<dt>0003 (raised 21.vi.01)

<dd>Associations with Singletons aren't supported properly.

</dl>

<h2><a name="rejected">Rejected</a></h2>

<h3>30.vii.03</h3>

<dl>

<dt>0153 (raised 21.ii.03)

<dd>Putting <tt>[[callback]]</tt> on a non-&#171;type&#187; isn't
recognised as an error.

<br><i>Since <tt>[[callback]]</tt>, or &#171;callback&#187;, don't
need &#171;type&#187;, putting &#171;callback&#187; on something you
didn't mean to be a &#171;type&#187; converts it to one
automatically.</i>

</dl>

<h3>3.vii.03</h3>

<dl>

<dt>0179 (raised 3.vii.03)

<dd>An &#171;abstract&#187; operation which happens to match the
profile of an accessor has accessor (rather than dispatching) code
generated for it.

<br>This fault has been cleared since release 20030330.

</dl>

<h3>27.ii.03</h3>
<dl>

<dt>0155 (raised 21.ii.03)

<dd>Operations marked <i>class</i> in the class specification dialog
aren't seen as such.
<br><i>Operations can't be so marked -- in Rose &lt;= 2001, anyway.</i>
</dl>

<h3>10.xii.02</h3>
<dl>

<dt>0010 (raised 27.vi.01)

<dd>It would be helpful if active classes' procedures (which call the
corresponding entries) trapped and reported exceptions.

<br><i>Active class procedures no longer call the corresponding
entries. In any case, you're better off using GNAT's features for
reporting unhandled exceptions.</i>

<dt>0012 (raised 12.vii.01)

<dd>It would be helpful if exception handlers could be automatically
generated in stub subprograms.
<br><i>You're better off using GNAT's features for reporting unhandled
exceptions.</i>

<dt>0080 (raised 1.v.02)

<dd>In multiple inheritance, would it be possible for an operation
inherited from one parent to act as the concrete version of an
abstract operation declared in the other parent?

</dl>

<h3>17.viii.02</h3>
<dl>

<dt>0055 (raised 8.i.02)

<dd>To create an instance of a child class (or any class that has a
reference to another class in its identifier), you have to type
convert the <tt>Handle</tt> to <tt>ColdFrame.Instances.Handle</tt>.

<br><i>This problem was most tedious with inheritance hierarchies. The
new inheritance support removes most of the problem.</i>

</dl>

<h3>10.vii.02</h3>
<dl>

<dt>0043 (raised 28.xi.01)

<dd>It may be desirable to allow <tt>[[callback]]</tt>s to be
targeted to specific instances of a particular class.

<br>This can be done with the <i>Counterpart</i> facility, if
required.

</dl>

<h3>25.vi.02</h3>
<dl>

<dt>0091 (raised 10.vi.02)

<dd>It would be helpful if an association with an unnamed role could
be identified more precisely ("unnamed role in association" isn't very
good!)

<br><i>This only happens when the association itself isn't named. Not
much we can do.</i>

</dl>

<h3>4.xii.01</h3>
<dl>

<dt>0005 (raised 25.vi.01)

<dd>The translation for active classes fails when the <tt>[[max]]</tt>
number of instances is specified.<br>
<i>Can't reproduce this.</i>

<dt>0006 (raised 25.vi.01)

<dd>The translation for active classes requires users to jump through
hoops involving <tt>.all'Unrestricted_Access</tt> to get a
<tt>Handle.</tt><br>
<i>A simple <tt>Handle&nbsp;(This)</tt> type conversion will do the
trick, not so bad I think.</i>

</dl>

<p>
<hr>
<i>
<address>
<a href="mailto:simon@pushface.org">Simon Wright</a>
</address>
<script>
document.write("Last update: ");
document.write(document.lastModified);
</script>
</i></body>
</html>
