<!-- $Id: bugs.html,v 8642f4f4e2cb 2001/11/17 06:04:04 simon $ -->
<html>
<head>
<title>ColdFrame: Bugs</title>
</head>
<body bgcolor="#ffffff">
<h1>ColdFrame: Bugs</h1>

<h2>Outstanding</h2>

<dl>

<dt>0005 (raised 25.vi.01)

<dd>The translation for active classes fails when the <tt>[[max]]</tt>
number of instances is specified.

<dt>0006 (raised 25.vi.01)

<dd>The translation for active classes requires users to jump through
hoops involving <tt>.all'Unrestricted_Access</tt> to get a
<tt>Handle.</tt>

<dt>0009 (raised 27.vi.01)

<dd>It would be helpful if the <tt>Create</tt> and <tt>Find</tt>
operations of child classes checked that the given identifier (of the
parent class's instance) isn't <tt>null</tt>.

<dt>0010 (raised 27.vi.01)

<dd>It would be helpful if active tasks' procedures (which call the
corresponding entries) trapped and reported exceptions.

<dt>0012 (raised 12.vii.01)

<dd>It would be helpful if exception handlers could be automatically
generated in stub subprograms.

<dt>0014 (raised 13.vii.01)

<dd>No code is generated for operations of &#171;type&#187;s.

<dt>0016 (raised 6.viii.01)

<dd>It would be helpful if an association class could be automatically
generated for many-to-many associations where the analyst hasn't
provided one already.

<dt>0018 (raised 4.ix.01)

<dd>For efficiency, classes whose identifier has a limited range (eg,
Forward/Aft or 1..10) should be implemented with array-like behaviour.

<dt>0019 (raised 4.ix.01)

<dd>It would be good to support private operations (particularly for
active classes, where procedure operations turn into task entries).

<dt>0020 (raised 4.ix.01)

<dd>Cardinalities and multiplicities of the form 1..42 should be
recognised (even if not implemented as specified: a warning would be
sensible in that case).

<dt>0025 (raised 26.ix.01)

<dd>It would be a good thing if illegal characters in names were detected.

<dt>0026 (raised 4.x.01)

<dd>It should probably be possible for an operation to take or return
a collection of its own class. At present this gives rise to a cyclic
dependency.

<dt>0027 (raised 5.x.01)

<dd>For attributes and operation parameters, it would be good to
detect missing types (or names).

<dt>0028 (raised 12.x.01)

<dd>The WITH TYPE extension seems to trigger a lot of instability in
GNAT. An alternative would be better.

<dt>0031 (raised 13.x.01)

<dd>&#171;finalize&#187; operations which are functions or have
parameters (or are &#171;class&#187; operations, though you would have
to work hard to make one both!) are silently <em>not</em> called at
finalization. There are other instances of bad usage which need
reporting (perhaps in a separate pass?)

<dt>0033 (raised 30.x.01)

<dd>The generated HTML for <i>&#171;class&#187; op (this : Class)</i>
is <tt>ColdFrame.Instances.Handle</tt>; should be just
<tt>Handle</tt>.

<dt>0035 (raised 1.xi.01)

<dd>The association support packages generated when one of the parties
in a 1:1 association is a &#171;singleton&#187; won't work if the
non-singleton party is marked <tt>[[source]]</tt>.

<dt>0036 (raised 16.xi.01)

<dd>The domain <tt>Initialize</tt> procedure should be a child
unit. As it is, a <tt>with</tt> of the domain package, probably for
its types, calls in all the class packages that have &#171;init&#187;
operations.

<dt>0037 (raised 16.xi.01)

<dd>Would it be better only to generate task entries when there's an
&#171;entry&#187; stereotype?

<dt>0038 (raised 16.xi.01)

<dd>Parameterless &#171;abstract&#187; operations of active classes
generate task entries. They probably shouldn't.

<!-- next: 0040 -->

</dl>

<h2>Fixed</h2>

<h3>16.xi.01</h3>
<dl>

<dt>0030 (raised 13.x.01)

<dd>&#171;finalize&#187; operations shouldn't be inherited.

<dt>0034 (raised 1.xi.01)

<dd>&#171;finalize&#187; operations of active classes shouldn't be
mapped to task entries.

<dt>0039 (raised 16.xi.01)

<dd><tt>Tear_Down</tt> should clear out any registered Callbacks.

</dl>

<h3>29.x.01</h3>
<dl>

<dt>0032 (raised 28.x.01)

<dd>With multiple inheritance, ColdFrame doesn't necessarily choose
the right parent class to call inherited operations.

</dl>

<h3>13.x.01</h3>
<dl>

<dt>0029 (raised 12.x.01)

<dd>The generated Tear_Down procedure bodies have unused WITH clauses.

</dl>

<h3>28.ix.01</h3>
<dl>

<dt>0017 (raised 4.ix.01)

<dd>It would be good if the generated hash functions made some attempt
to actually hash.

</dl>

<h3>26.ix.01</h3>
<dl>

<dt>0022 (raised 14.ix.01)

<dd>It should be easier to iterate over Collections.

<dt>0023 (raised 26.ix.01)

<dd>It would be helpful if discriminated record types could be
generated.

<dt>0024 (raised 26.ix.01)

<dd>The generated domain <tt>Tear_Down</tt> procedure has a bad body
if there are no Classes (just Types) in the domain.

</dl>

<h3>14.ix.01</h3>
<dl>

<dt>0021 (raised 4.ix.01)

<dd>Identifier normalization should match GLIDE's casing rules.

</dl>

<h3>6.viii.01</h3>
<dl>
<dt>0015 (raised 1.viii.01)

<dd>The generated code should include indications of the date of
extraction and the revisions of the tools concerned (or perhaps of
ColdFrame itself).

</dl>

<h3>13.vii.01</h3>
<dl>

<dt>0013 (raised 12.vii.01)

<dd><tt>Initialize</tt> procedures should only be generated (and
called by the Domain <tt>Initialize</tt>) where the Model specifies a
parameterless &#171;class&#187; procedure <tt>Initialize</tt>.

</dl>

<h3>7.vii.01</h3>
<dl>

<dt>0011 (raised 27.vi.01)

<dd><tt>Unlink</tt> operations on simple associations should null out
referential attributes.

</dl>

<h3>28.vi.01</h3>
<dl>

<dt>0008 (raised 26.vi.01)

<dd>Class operations of active classes generate an entry and a
matching (bad) body stub.

</dl>

<h3>26.vi.01</h3>
<dl>

<dt>0004 (raised 25.vi.01)

<dd>The <tt>Link</tt> function for a 1-(1:1) association is generated
wrongly (uses the wrong end of the association).

<dt>0007 (raised 26.vi.01)

<dd>The error message generated when there's no concrete
implementation of an abstract operation is garbled.

</dl>

<h3>21.vi.01</h3>
<dl>

<dt>0001 (raised 21.vi.01)

<dd>If an operation takes a parameter of the current class, or returns
a value of the current class, CF generates a "with" of the current
class (resulting in a circular dependency).

<dt>0002 (raised 21.vi.01)

<dd>Active Interfaces don't declare the type Instance before it's used.

<dt>0003 (raised 21.vi.01)

<dd>Associations with Singletons aren't supported properly.

</dl>

<hr>
<i>
<address>
<a href="mailto:simon@pushface.org">Simon Wright</a>
</address>
<script>
document.write("Last update: ");
document.write(document.lastModified);
</script>
</i></body>
</html>
