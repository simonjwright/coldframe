<!-- $Id: operations.html,v 9ed5a39baec6 2002/11/21 05:58:03 simon $ -->
<head>
<title>ColdFrame: Operations</title>
</head>
<body bgcolor="white">
<h1>ColdFrame: Operations</h1>

<h2>Motivation</h2>

<h2>Modelling</h2>

<p>You must only have one operation with a given name, except for
&#171;entry&#187;s. It's allowed to have operations with the same name
as generated subprograms (<tt>Create</tt>, <tt>Find</tt> and
<tt>Delete</tt>), but you do need to ensure that the parameter
profiles don't clash.

<p>Operations to be called from the Domain <tt>Initialize</tt>
procedure are marked with the stereotype
<em>&#171;init&#187;</em>. This implies the stereotype
<em>&#171;class&#187;</em>. These operations must be parameterless
procedures.

<p>Class operations (no <tt>This</tt> parameter will be generated) are
marked with the stereotype <em>&#171;class&#187;</em>.

<p>In an <i>active</i> class, you can specify task entries using the
<em>&#171;entry&#187;</em> stereotype. It's permissible to have an
ordinary operation with the same name as an &#171;entry&#187;, because
&#171;entry&#187; operations don't generate normal subprograms.

<p>Dispatching operations are marked with the stereotype
<em>&#171;abstract&#187;</em>. The operation will be implemented in a
child class.

<p><em>&#171;access&#187;</em> indicates that the operation is in fact
an access type (pointer-to-subprogram with the indicated profile).

<p>Operations to be called to clean up as an instance is deleted (for
example, to tidy up associations) are marked with the stereotype
<em>&#171;finalize&#187;</em>. (It would be possible in theory to use
Ada's controlled types, but that depends on your target language being
Ada). Also, it's possible to have more than one &#171;finalize&#187;
operation.

<p>Operations to be called during teardown (in unit test) are marked
with the stereotype <em>&#171;teardown&#187;</em>. It's possible to
have more than one &#171;teardown&#187; operation. These are intended
to clean up resources such as file descriptors; don't try to tidy up
associations, they're in an indeterminate state during teardown.

<br>&#171;finalize&#187; operations can call &#171;teardown&#187;s.

<p>Use <em>&#171;generated&#187;</em> for operations which are
automatically generated by ColdFrame but which you need to be present
so that they can be used on sequence diagrams (eg, <tt>Find</tt>,
<tt>Delete</tt>, <tt>All_Instances</tt>).  If you don't use the
stereotype, ColdFrame will generate an ordinary user operation as well
as the automatic one, which will probably be illegal and certainly
confusing.

<p><em>&#171;navigation&#187;</em> is similar to
<em>&#171;generated&#187;</em>; the idea is for you to use it when you
want to show navigating associations on sequence diagrams. You might
use a naming convention like <tt>r2.appears on</tt> (an operation of
<i>Screen</i> that returns a collection of <i>Window</i>s).

<p><em>&#171;instantiation&#187;</em> is similar to
<em>&#171;generated&#187;</em>; the idea is for you to use it when you
want to show local-to-operation instantiations of generics provided by
ColdFrame (eg, <tt><i>Domain.Class</i>.Selection_Function</tt>) on
sequence diagrams.

<h2>Translation</h2>

<h2>Use</h2>

<p><hr>
<i>
<address>
<a href="mailto:simon@pushface.org">Simon Wright</a>
</address>
<script>
document.write("Last update: ");
document.write(document.lastModified);
</script>
</i></body>
</html>
